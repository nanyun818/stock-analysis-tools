# 券商配置JSON文件获取指南

## 📋 概述

本指南详细说明如何为不同券商获取和配置JSON配置文件，以便在股票交易工具中使用。

## 🏦 各券商配置方法

### 1. 华泰证券 (ht.json)

#### 📝 配置文件格式
```json
{
    "user": "你的华泰证券账号",
    "password": "你的登录密码",
    "comm_password": "你的通讯密码",
    "trdpwd": "加密后的交易密码",
    "account": "你的资金账号"
}
```

#### 🔑 获取加密交易密码步骤

**方法一：浏览器开发者工具**
1. 打开华泰证券官网：https://www.htsc.com.cn/
2. 点击"网上交易"进入交易系统
3. 按F12打开开发者工具
4. 切换到"Network"(网络)标签页
5. 输入账号密码登录
6. 在网络请求中找到登录的POST请求
7. 查看请求参数，找到"trdpwd"字段的值
8. 复制该加密值到配置文件中

**方法二：抓包工具**
1. 使用Fiddler或Charles等抓包工具
2. 配置代理并开始抓包
3. 登录华泰证券网站
4. 在抓包记录中找到登录请求
5. 提取trdpwd参数值

#### ⚠️ 注意事项
- 加密密码有时效性，可能需要定期更新
- 不同的登录方式可能产生不同的加密值
- 建议保存多个有效的加密密码备用

---

### 2. 佣金宝 (yjb.json)

#### 📝 配置文件格式
```json
{
    "user": "你的佣金宝账号",
    "password": "加密后的密码",
    "account": "你的资金账号"
}
```

#### 🔑 获取加密密码步骤

1. **访问佣金宝官网**：https://www.yjb.com/
2. **打开开发者工具**：按F12
3. **切换到Network标签页**
4. **尝试登录**：输入用户名和密码
5. **查找登录请求**：
   - 找到包含"login"或"auth"的POST请求
   - 查看请求参数中的password字段
   - 复制加密后的密码值

#### 💡 获取技巧
- 佣金宝的密码加密算法相对简单
- 可以通过浏览器控制台查看加密函数
- 建议使用无痕模式避免缓存干扰

---

### 3. 银河证券 (yh.json)

#### 📝 配置文件格式
```json
{
    "user": "你的银河证券账号",
    "password": "你的登录密码",
    "account": "你的资金账号"
}
```

#### 🔧 验证码识别工具安装

**安装Tesseract OCR**
1. **下载Tesseract**：
   - 访问：https://github.com/UB-Mannheim/tesseract/wiki
   - 下载Windows版本安装包
   - 安装到默认路径：`C:\Program Files\Tesseract-OCR`

2. **配置环境变量**：
   - 右键"此电脑" → "属性" → "高级系统设置"
   - 点击"环境变量"
   - 在"系统变量"中找到"Path"
   - 添加：`C:\Program Files\Tesseract-OCR`

3. **验证安装**：
   ```cmd
   tesseract --version
   ```

**或安装ddddocr（推荐）**
```bash
pip install ddddocr
```

#### 📋 配置步骤
1. 银河证券通常不需要密码加密
2. 直接使用明文密码即可
3. 确保账号有网上交易权限
4. 验证码识别工具必须正确安装

---

### 4. 雪球模拟盘 (xq.json)

#### 📝 配置文件格式
```json
{
    "username": "你的雪球用户名",
    "password": "你的雪球密码",
    "portfolio_code": "你的组合代码",
    "portfolio_market": "cn"
}
```

#### 🎯 获取组合代码步骤

1. **注册雪球账号**：
   - 访问：https://xueqiu.com/
   - 注册并登录账号

2. **创建模拟组合**：
   - 点击"交易" → "模拟交易"
   - 创建新的投资组合
   - 设置组合名称和初始资金

3. **获取组合代码**：
   - 进入创建的组合页面
   - 从浏览器地址栏获取组合ID
   - 例如：`https://xueqiu.com/P/ZH123456`
   - 组合代码就是：`ZH123456`

4. **配置说明**：
   - `portfolio_market`: 固定填写"cn"（中国市场）
   - 雪球模拟盘适合新手练习
   - 无真实资金风险

---

## 🛠️ 配置文件使用方法

### 1. 文件存放位置
```
d:\爬虫\config_examples\    # 示例配置文件
d:\爬虫\my_configs\         # 你的实际配置文件（建议创建）
```

### 2. 配置文件命名
- 华泰证券：`ht.json`
- 佣金宝：`yjb.json`
- 银河证券：`yh.json`
- 雪球模拟：`xq.json`

### 3. 在程序中使用
1. 启动交易工具
2. 选择对应的券商类型
3. 点击"选择"按钮，选择配置文件
4. 点击"连接券商"建立连接

---

## 🔒 安全注意事项

### 密码安全
- **不要**将配置文件上传到公共代码仓库
- **不要**在聊天记录中分享真实密码
- **定期**更改交易密码
- **使用**强密码组合

### 文件保护
```bash
# 创建专门的配置目录
mkdir my_configs

# 设置文件权限（仅自己可读写）
attrib +H my_configs\*.json
```

### 备份策略
- 保存多个有效配置文件
- 定期备份到安全位置
- 使用加密工具保护敏感文件

---

## 🐛 常见问题解决

### Q1: 华泰证券连接失败
**解决方案：**
- 检查trdpwd是否为最新的加密值
- 确认账号密码正确
- 检查网络连接
- 尝试重新获取加密密码

### Q2: 佣金宝密码加密问题
**解决方案：**
- 使用浏览器无痕模式登录
- 清除浏览器缓存后重试
- 检查是否有特殊字符需要转义

### Q3: 银河证券验证码识别失败
**解决方案：**
- 确认tesseract正确安装
- 检查环境变量配置
- 尝试安装ddddocr替代方案
- 手动输入验证码

### Q4: 雪球组合代码无效
**解决方案：**
- 确认组合是否为"公开"状态
- 检查组合代码格式
- 重新创建组合并获取新代码

---

## 📞 技术支持

如果遇到配置问题，可以：
1. 查看程序运行日志
2. 参考easytrader官方文档
3. 在技术社区寻求帮助
4. 使用雪球模拟盘测试配置流程

---

## ⚖️ 免责声明

- 本指南仅供学习研究使用
- 请遵守券商的使用条款
- 投资有风险，决策需谨慎
- 作者不承担任何投资损失责任

**建议新手先使用雪球模拟盘熟悉操作流程！**